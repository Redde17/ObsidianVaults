Un albero è il più comune tipo di struttura delle directory. L’albero ha una directory radice (_root directory_), e ogni file del sistema ha un unico nome di percorso.

![[Pasted image 20221219153705.png]]

Una directory, o una sottodirectory, contiene un insieme di file o sottodirectory.
Le directory sono semplicemente file, trattati però in modo speciale. Tutte le directory hanno lo stesso formato interno. La distinzione tra file e directory è data da un bit di ogni elemento della directory. Per creare e cancellare le directory si adoperano speciali chiamate di sistema.

Normalmente, ogni utente dispone di una directory corrente. 
La directory corrente dovrebbe contenere la maggior parte dei file di interesse corrente per il processo.
Quando si fa un riferimento a un file, si esegue una ricerca nella directory corrente; se il file non si trova in tale directory, l’utente deve specificare un nome di percorso oppure cambiare la directory corrente facendo diventare tale la directory contenente il file desiderato. Per cambiare directory corrente si fa uso di una chiamata di sistema che prende un nome di directory come parametro e lo usa per ridefinire la directory corrente.

La directory corrente iniziale di un utente è stabilita quando viene lanciato un job dell’utente, oppure quando questi inizia una sessione di lavoro; il sistema operativo cerca nel file di accounting, o in qualche altra locazione predefinita, l’elemento relativo a questo utente. Nel file di accounting è memorizzato un puntatore (oppure il nome) della directory iniziale dell’utente. Tale puntatore viene copiato in una variabile locale per l’utente che specifica la sua directory corrente iniziale. Dalla shell dell’utente si possono poi avviare altri processi: la loro directory corrente è solitamente la directory corrente del processo genitore al momento della creazione del figlio.

I nomi di percorso possono essere di due tipi: nomi di percorso assoluti e nomi di percorso relativi. Un _nome di percorso assoluto_ comincia dalla radice dell’albero di directory e segue un percorso che lo porta fino al file specificato indicando i nomi delle directory lungo il percorso. Un _nome di percorso relativo_ definisce un percorso che parte dalla directory corrente.

Se si permette all’utente di definire le proprie sottodirectory, gli si consente anche di dare una struttura ai suoi file. Questa struttura può presentare directory distinte per file associati a soggetti diversi; per esempio, si può creare una sottodirectory contenente il testo di questo libro, oppure diversi tipi di informazioni, per esempio la directory programmi può contenere programmi sorgente; la directory bin può contenere tutti i programmi eseguibili.

Una decisione importante relativa alla strutturazione ad albero delle directory riguarda il modo di gestire la cancellazione di una directory. Se una directory è vuota, è sufficiente cancellare l’elemento che la designa nella directory che la contiene. Tuttavia se la directory da cancellare non è vuota, ma contiene file oppure sottodirectory, è possibile procedere in due modi. Alcuni sistemi non cancellano una directory a meno che non sia vuota; per cancellarla l’utente deve prima cancellare i file in essa contenuti. Se esiste qualche sottodirectory, questa procedura si deve applicare anche alle sottodirectory. Questo metodo può richiedere una discreta quantità di lavoro. In alternativa, come nel comando rm di unix, si può avere un’opzione che, alla richiesta di cancellazione di una directory, cancelli anche tutti i file e tutte le sottodirectory in essa contenuti. Entrambi i criteri sono abbastanza facili da realizzare; si tratta soltanto di stabilire la politica da seguire. Il secondo criterio è più comodo, anche se più pericoloso, poiché si può rimuovere un’intera struttura della directory con un solo comando. Se si eseguisse tale comando per sbaglio sarebbe necessario ripristinare un gran numero di file e directory dalle copie di riserva (ipotizzandone l’esistenza).

Con un sistema di directory strutturato ad albero anche l’accesso ai file di altri utenti è di facile realizzazione. Per esempio, l’utente _B_ può accedere ai file dell’utente _A_ specificando i nomi di percorso assoluti oppure relativi. In alternativa, l’utente _B_ può far sì che la propria directory corrente sia quella dell’utente _A_ e accedere ai file usando direttamente i loro nomi.
