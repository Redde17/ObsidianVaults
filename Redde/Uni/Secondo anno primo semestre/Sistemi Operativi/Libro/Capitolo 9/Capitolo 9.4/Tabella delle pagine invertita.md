Generalmente, si associa una tabella delle pagine a ogni processo e tale tabella contiene un elemento per ogni pagina virtuale che il processo sta utilizzando, ossia vi sono elementi corrispondenti a ogni indirizzo virtuale a prescindere dalla validità di quest’ultimo. Questa rappresentazione tabellare è naturale, poiché i processi fanno riferimento alle pagine tramite gli indirizzi virtuali delle pagine stesse, che il sistema operativo deve poi tradurre in indirizzi di memoria fisica. Poiché la tabella è ordinata per indirizzi virtuali, il sistema operativo può calcolare in che punto della tabella si trova l’indirizzo fisico associato, e usare direttamente tale valore. Uno degli inconvenienti insiti in questo metodo è che ciascuna tabella delle pagine può contenere milioni di elementi e occupare grandi quantità di memoria fisica, necessaria solo per sapere com’è impiegata la rimanente memoria fisica.

Per risolvere questo problema si può fare uso della tabella delle **pagine invertita**.

Una tabella delle pagine invertita ha un elemento per ogni pagina reale (o frame). Ciascun elemento è quindi costituito dell’indirizzo virtuale della pagina memorizzata in quella reale locazione di memoria, con informazioni sul processo che possiede tale pagina. 
Quindi, nel sistema esiste una sola tabella delle pagine che ha un solo elemento per ciascuna pagina di memoria fisica. 
Nella Figura 9.18 sono mostrate le operazioni di una tabella delle pagine invertita.
Le tabelle invertite richiedono spesso la memorizzazione di un identificatore dello spazio d’indirizzi (Paragrafo 9.3.2) in ciascun elemento della tabella delle pagine, perché essa contiene di solito molti spazi d’indirizzi diversi associati alla memoria fisica; l’identificatore garantisce che una data pagina logica relativa a un certo processo sia associata alla pagina fisica corrispondente. 

![[Pasted image 20221208183743.png]]

Sebbene questo schema riduca la quantità di memoria necessaria per memorizzare ogni tabella delle pagine, aumenta però il tempo di ricerca nella tabella quando si fa riferimento a una pagina. Poiché la tabella delle pagine invertita è ordinata per indirizzi fisici, mentre le ricerche si fanno per indirizzi virtuali, per trovare una corrispondenza potrebbe essere necessario esaminare tutta la tabella; questa ricerca richiederebbe troppo tempo. Per limitare l’entità del problema si può impiegare una tabella hash (come si descrive nel Paragrafo 9.4.2), che riduce la ricerca a un solo, o a pochi, elementi della tabella delle pagine.
Ricordiamo che la ricerca si effettua prima nel tlb, quindi si consulta la tabella hash, il che migliore le prestazioni.

Un questione interessante relativa alle tabelle delle pagine invertite riguarda la memoria condivisa. Con la paginazione standard, ogni processo ha una propria tabella delle pagine, il che consente di mappare più indirizzi virtuali sullo stesso indirizzo fisico. Questo metodo non può essere utilizzato con le tabelle delle pagine invertite. Infatti, poiché esiste una sola pagina virtuale per ogni pagina fisica, una pagina fisica non può avere due (o più) indirizzi virtuali condivisi. Con le tabelle delle pagine invertite, in un dato istante si può dunque avere una sola mappatura di un indirizzo virtuale sull’indirizzo fisico. Un riferimento da parte di un altro processo che condivide la memoria provocherà un errore di pagina e sostituirà la mappatura con un indirizzo virtuale diverso.